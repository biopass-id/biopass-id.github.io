<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@biopassid/face-sdk@1.0.2/unpkg/face-sdk.min.js"></script>
    <title>Document</title>
</head>

<body class="min-h-screen p-4 flex flex-col items-center justify-center bg-gray-200">

    <h1 class="font-bold text-3xl text-gray-800 mb-10 text-center">Styling (Example with face detect)</h1>

    <!-- Container principal -->
    <div class="h-96 aspect-video bg-white rounded-xl shadow-lg overflow-hidden mb-10" id="camera">

    </div>

    <button onclick="submit()" class="px-4 py-2 mb-10 text-xl bg-white font-bold rounded shadow-lg">Iniciar</button>

    <form class="flex space-x-2 w-full justify-center flex-wrap">

        <!-- Botão de captura-->
        <fieldset class="border border-gray-400 p-4 rounded mb-2">
            <h2 class="font-bold text-xl text-gray-800 mb-5 text-center">Capture Button Style</h2>
            <div class="w-40">
                <label class="block">Size</label>
                <input id="captureSize" type="range" min="20" max="80" value="50"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>50</output>
            </div>
            <div class="w-40">
                <label class="block">Icon Size</label>
                <input id="captureIconSize" type="range" min="20" max="80" value="30"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>30</output>
            </div>
            <div class="w-40">
                <label class="block">Background Color</label>
                <input id="captureColor" type="color" value="#FFFFFF" />
            </div>
            <div class="w-40">
                <label class="block">Icon color</label>
                <input id="captureIconColor" type="color" value="#000000" />
            </div>

        </fieldset>

        <!-- Botão de cancelar -->
        <fieldset class="border border-gray-400 p-4 rounded mb-2">
            <h2 class="font-bold text-xl text-gray-800 mb-5 text-center">Cancel Button Style</h2>
            <div class="w-40">
                <label class="block">Size</label>
                <input id="cancelSize" type="range" min="20" max="80" value="50"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>50</output>
            </div>
            <div class="w-40">
                <label class="block">Icon Size</label>
                <input id="cancelIconSize" type="range" min="20" max="80" value="30"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>30</output>
            </div>
            <div class="w-40">
                <label class="block">Background Color</label>
                <input id="cancelColor" type="color" value="#E84141" />
            </div>
            <div class="w-40">
                <label class="block">Icon color</label>
                <input id="cancelIconColor" type="color" value="#FFFFFF" />
            </div>

        </fieldset>

        <!-- Botão de Confirmar -->
        <fieldset class="border border-gray-400 p-4 rounded mb-2">
            <h2 class="font-bold text-xl text-gray-800 mb-5 text-center">Confirm Button Style</h2>
            <div class="w-40">
                <label class="block">Size</label>
                <input id="confirmSize" type="range" min="20" max="80" value="50"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>50</output>
            </div>
            <div class="w-40">
                <label class="block">Icon Size</label>
                <input id="confirmIconSize" type="range" min="20" max="80" value="30"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>30</output>
            </div>
            <div class="w-40">
                <label class="block">Background Color</label>
                <input id="confirmColor" type="color" value="#FFFFFF" />
            </div>
            <div class="w-40">
                <label class="block">Icon color</label>
                <input id="confirmIconColor" type="color" value="#000000" />
            </div>

        </fieldset>

        <!-- Botão de Voltar -->
        <fieldset class="border border-gray-400 p-4 rounded mb-2">
            <h2 class="font-bold text-xl text-gray-800 mb-5 text-center">Back Button Style</h2>
            <div class="w-40">
                <label class="block">Size</label>
                <input id="backSize" type="range" min="20" max="80" value="50"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>50</output>
            </div>
            <div class="w-40">
                <label class="block">Icon Size</label>
                <input id="backIconSize" type="range" min="20" max="80" value="30"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>30</output>
            </div>
            <div class="w-40">
                <label class="block">Background Color</label>
                <input id="backColor" type="color" value="#FFFFFF" />
            </div>
            <div class="w-40">
                <label class="block">Icon color</label>
                <input id="backIconColor" type="color" value="#000000" />
            </div>

        </fieldset>

        <!-- Loading -->
        <fieldset class="border border-gray-400 p-4 rounded mb-2">
            <h2 class="font-bold text-xl text-gray-800 mb-5 text-center">Loading Style</h2>
            <div class="w-40">
                <label class="block">Size</label>
                <input id="loadingSize" type="range" min="20" max="80" value="50"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>50</output>
            </div>
            <div class="w-40">
                <label class="block">Dots Size</label>
                <input id="loadingDotsSize" type="range" min="1" max="10" value="5"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>5</output>
            </div>
            <div class="w-40">
                <label class="block">Dots Spacing</label>
                <input id="loadingDotsSpacing" type="range" min="1" max="10" value="5"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>5</output>
            </div>
            <div class="w-40">
                <label class="block">Background Color</label>
                <input id="loadingColor" type="color" value="#FFFFFF" />
            </div>
            <div class="w-40">
                <label class="block">Dots color</label>
                <input id="loadingDotsColor" type="color" value="#000000" />
            </div>
        </fieldset>

        <!-- Mask  -->
        <fieldset class="border border-gray-400 p-4 rounded mb-2">
            <h2 class="font-bold text-xl text-gray-800 mb-5 text-center">Mask Style</h2>
            <div class="w-40">
                <label class="block">Background Color</label>
                <input id="maskColor" type="color" value="#000000" />
            </div>
            <div class="w-40">
                <label class="block">Frame color</label>
                <input id="maskFrameColor" type="color" value="#FFFFFF" />
            </div>
            <div class="w-40">
                <label class="block">Background opacity</label>
                <input id="maskOpacity" type="range" step=".1" min="0" max="1" value=".6"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>.6</output>
            </div>
            <div class="w-40">
                <label class="block">Frame Thickness</label>
                <input id="maskThickness" type="range" min="0" max="10" value="3"
                    oninput="this.nextElementSibling.value = this.value" />
                <output>3</output>
            </div>
        </fieldset>

        <!-- Opções -->
        <fieldset class="border border-gray-400 p-4 rounded mb-2">
            <h2 class="font-bold text-xl text-gray-800 mb-5 text-center">Options</h2>
            <div>
                <label class="block">Show mask</label>
                <input id="showMask" type="checkbox" value="#000000" checked />
            </div>
            <div>
                <label class="block">Show back button</label>
                <input id="showBackButton" type="checkbox" checked />
            </div>
            <div>
                <label class="block">Width</label>
                <input id="width" value="100%" />
            </div>
            <div>
                <label class="block">Height</label>
                <input id="height" value="100%" />
            </div>
        </fieldset>

        <!-- Camera Presets -->
        <fieldset class="border border-gray-400 p-4 rounded mb-2">
            <h2 class="font-bold text-xl text-gray-800 mb-5 text-center">Camera Presets</h2>
            <div class="w-40">
                <label class="block">Aspect Ratio</label>
                <select id="aspectRatio" value="1.777777777777778">
                    <option value="1.777777777777778">16/9</option>
                    <option value="0.5625">9/16</option>
                    <option value="1.333333333333333">4/3</option>
                </select>
            </div>

            <div class="w-40">
                <label class="block">Preferred Resolution</label>
                <select id="resolution" value="480">
                    <option value="480">480p</option>
                    <option value="720">720p</option>
                    <option value="1080">1080p</option>
                </select>
            </div>
        </fieldset>
    </form>

    <script>
        const { faceDetect } = useMultibiometrics("f086157128364d95887467c1bc7c7c3d");
        async function submit () {
            const captureSize = document.querySelector("#captureSize");
            const captureIconSize = document.querySelector("#captureIconSize");
            const captureColor = document.querySelector("#captureColor");
            const captureIconColor = document.querySelector("#captureIconColor");

            const cancelSize = document.querySelector("#cancelSize");
            const cancelIconSize = document.querySelector("#cancelIconSize");
            const cancelColor = document.querySelector("#cancelColor");
            const cancelIconColor = document.querySelector("#cancelIconColor");

            const confirmSize = document.querySelector("#confirmSize");
            const confirmIconSize = document.querySelector("#confirmIconSize");
            const confirmColor = document.querySelector("#confirmColor");
            const confirmIconColor = document.querySelector("#confirmIconColor");

            const backSize = document.querySelector("#backSize");
            const backIconSize = document.querySelector("#backIconSize");
            const backColor = document.querySelector("#backColor");
            const backIconColor = document.querySelector("#backIconColor");

            const loadingSize = document.querySelector("#loadingSize");
            const loadingDotsSize = document.querySelector("#loadingDotsSize");
            const loadingDotsSpacing = document.querySelector("#loadingDotsSpacing");
            const loadingColor = document.querySelector("#loadingColor");
            const loadingDotsColor = document.querySelector("#loadingDotsColor");

            const maskColor = document.querySelector("#maskColor");
            const maskFrameColor = document.querySelector("#maskFrameColor");
            const maskOpacity = document.querySelector("#maskOpacity");
            const maskThickness = document.querySelector("#maskThickness");

            const showMask = document.querySelector("#showMask");
            const showBackButton = document.querySelector("#showBackButton");
            const width = document.querySelector("#width");
            const height = document.querySelector("#height");

            const aspectRatio = document.querySelector("#aspectRatio");
            const resolution = document.querySelector("#resolution");



            const styles = {
                captureButtonStyle: {
                    size: `${captureSize.value}px`,
                    iconSize: `${captureIconSize.value}px`,
                    backgroundColor: captureColor.value,
                    iconColor: captureIconColor.value,
                },
                cancelButtonStyle: {
                    size: `${cancelSize.value}px`,
                    iconSize: `${cancelIconSize.value}px`,
                    backgroundColor: cancelColor.value,
                    iconColor: cancelIconColor.value,
                },
                confirmButtonStyle: {
                    size: `${confirmSize.value}px`,
                    iconSize: `${confirmIconSize.value}px`,
                    backgroundColor: confirmColor.value,
                    iconColor: confirmIconColor.value,
                },
                backButtonStyle: {
                    size: `${backSize.value}px`,
                    iconSize: `${backIconSize.value}px`,
                    backgroundColor: backColor.value,
                    iconColor: backIconColor.value,
                },
                loadingStyle: {
                    size: `${loadingSize.value}px`,
                    dotsSize: `${loadingDotsSize.value}px`,
                    dotsSpacing: `${loadingDotsSpacing.value}px`,
                    dotsColor: loadingDotsColor.value,
                    backgroundColor: loadingColor.value,
                },
                maskStyle: {
                    type: 'face',
                    backgroundColor: maskColor.value,
                    backgroundOpacity: +maskOpacity.value,
                    frameColor: maskFrameColor.value,
                    frameThickness: +maskThickness.value,
                }
            }

            const options = {
                showMask: showMask.checked,
                showBackButton: showBackButton.checked,
                width: width.value,
                height: height.value,
            }

            const cameraPresets = {
                aspectRatio: +aspectRatio.value,
                preferredResolution: +resolution.value,
            }

            const resp = await faceDetect({
                element: document.querySelector("#camera"),
                styles,
                options,
                cameraPresets,
            })

            console.log(resp);

            window.alert('Detect finished')
        }
    </script>


</body>

</html>